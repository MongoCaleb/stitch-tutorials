{"ast":null,"code":"import { useState, useEffect } from \"react\";\nimport { UserPasswordCredential, AnonymousCredential } from \"mongodb-stitch-browser-sdk\";\nimport { app } from \"./stitch.js\"; // Log in a user with the specified email and password\n// Note: The user must already be registered with the Stitch app.\n// See https://docs.mongodb.com/stitch/authentication/userpass/#create-a-new-user-account\n\nexport function loginEmailPasswordUser(_ref) {\n  var email = _ref.email,\n      password = _ref.password;\n  return app.auth.loginWithCredential(new UserPasswordCredential(email, password)).then(function (stitchUser) {\n    console.log(\"Logged in as: \".concat(email));\n    return stitchUser;\n  });\n} // Log in a user anonymously. \n// Note: When the user logs out, all data is lost.\n// See https://docs.mongodb.com/stitch/authentication/anonymous/\n\nexport function loginAnonymous() {\n  return app.auth.loginWithCredential(new AnonymousCredential()).then(function (stitchUser) {\n    console.log(\"Logged in as Anonymous\");\n    return stitchUser;\n  });\n}\nexport function hasLoggedInUser() {\n  return app.auth.isLoggedIn;\n}\nexport function getAllUsers() {\n  // Return a list of all users that are associated with the app\n  return app.auth.listUsers();\n}\nexport function logoutUser(stitchUser) {\n  // Log a user out of the app. Logged out users are still associated with\n  // the app and will appear in the result of app.auth.listUsers()\n  return app.auth.logoutUserWithId(stitchUser.id);\n}\nexport function isLoggedIn() {\n  return app.auth.isLoggedIn();\n}","map":{"version":3,"sources":["/Users/caleb/git/mongocaleb/stitch-tutorials/todo-web-1/src/stitch/authentication.js"],"names":["useState","useEffect","UserPasswordCredential","AnonymousCredential","app","loginEmailPasswordUser","email","password","auth","loginWithCredential","then","stitchUser","console","log","loginAnonymous","hasLoggedInUser","isLoggedIn","getAllUsers","listUsers","logoutUser","logoutUserWithId","id"],"mappings":"AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,sBAAT,EAAiCC,mBAAjC,QAA4D,4BAA5D;AACA,SAAQC,GAAR,QAAmB,aAAnB,C,CAEA;AACA;AACA;;AACA,OAAO,SAASC,sBAAT,OAAqD;AAAA,MAAnBC,KAAmB,QAAnBA,KAAmB;AAAA,MAAZC,QAAY,QAAZA,QAAY;AAC1D,SAAOH,GAAG,CAACI,IAAJ,CACJC,mBADI,CACgB,IAAIP,sBAAJ,CAA2BI,KAA3B,EAAkCC,QAAlC,CADhB,EAEJG,IAFI,CAEC,UAAAC,UAAU,EAAI;AAClBC,IAAAA,OAAO,CAACC,GAAR,yBAA6BP,KAA7B;AACA,WAAOK,UAAP;AACD,GALI,CAAP;AAMD,C,CAED;AACA;AACA;;AACA,OAAO,SAASG,cAAT,GAA0B;AAC/B,SAAOV,GAAG,CAACI,IAAJ,CACJC,mBADI,CACgB,IAAIN,mBAAJ,EADhB,EAEJO,IAFI,CAEC,UAAAC,UAAU,EAAI;AAClBC,IAAAA,OAAO,CAACC,GAAR;AACA,WAAOF,UAAP;AACD,GALI,CAAP;AAMD;AAED,OAAO,SAASI,eAAT,GAA2B;AAChC,SAAOX,GAAG,CAACI,IAAJ,CAASQ,UAAhB;AACD;AAED,OAAO,SAASC,WAAT,GAAuB;AAC5B;AACA,SAAOb,GAAG,CAACI,IAAJ,CAASU,SAAT,EAAP;AACD;AAED,OAAO,SAASC,UAAT,CAAoBR,UAApB,EAAgC;AACrC;AACA;AACA,SAAOP,GAAG,CAACI,IAAJ,CAASY,gBAAT,CAA0BT,UAAU,CAACU,EAArC,CAAP;AACD;AAED,OAAO,SAASL,UAAT,GAAsB;AAC1B,SAAOZ,GAAG,CAACI,IAAJ,CAASQ,UAAT,EAAP;AACF","sourcesContent":["import { useState, useEffect } from \"react\";\nimport { UserPasswordCredential, AnonymousCredential } from \"mongodb-stitch-browser-sdk\";\nimport {app}  from \"./stitch.js\";\n\n// Log in a user with the specified email and password\n// Note: The user must already be registered with the Stitch app.\n// See https://docs.mongodb.com/stitch/authentication/userpass/#create-a-new-user-account\nexport function loginEmailPasswordUser({ email, password }) {\n  return app.auth\n    .loginWithCredential(new UserPasswordCredential(email, password))\n    .then(stitchUser => {\n      console.log(`Logged in as: ${email}`);\n      return stitchUser;\n    });\n}\n\n// Log in a user anonymously. \n// Note: When the user logs out, all data is lost.\n// See https://docs.mongodb.com/stitch/authentication/anonymous/\nexport function loginAnonymous() {\n  return app.auth\n    .loginWithCredential(new AnonymousCredential())\n    .then(stitchUser => {\n      console.log(`Logged in as Anonymous`);\n      return stitchUser;\n    });\n}\n\nexport function hasLoggedInUser() {\n  return app.auth.isLoggedIn;\n}\n\nexport function getAllUsers() {\n  // Return a list of all users that are associated with the app\n  return app.auth.listUsers();\n}\n\nexport function logoutUser(stitchUser) {\n  // Log a user out of the app. Logged out users are still associated with\n  // the app and will appear in the result of app.auth.listUsers()\n  return app.auth.logoutUserWithId(stitchUser.id);\n}\n\nexport function isLoggedIn() {\n   return app.auth.isLoggedIn();\n}\n\n"]},"metadata":{},"sourceType":"module"}